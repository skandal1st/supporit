# –û—Ç—á–µ—Ç –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ—Å–ª–µ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é

**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:** $(Get-Date -Format "yyyy-MM-dd HH:mm:ss")
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –Ω–∞ Ubuntu —Å–µ—Ä–≤–µ—Ä–µ

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –Ω–∞ –º–µ—Å—Ç–µ
- ‚úÖ –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (`src/`) - —Ü–µ–ª
- ‚úÖ –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –±—ç–∫–µ–Ω–¥–∞ (`server/src/`) - —Ü–µ–ª
- ‚úÖ –°–∫—Ä–∏–ø—Ç—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è (`scripts/`) - –≤—Å–µ –Ω–∞ –º–µ—Å—Ç–µ
- ‚úÖ SQL —Å—Ö–µ–º—ã –∏ –º–∏–≥—Ä–∞—Ü–∏–∏ (`supabase/`) - –≤—Å–µ —Ñ–∞–π–ª—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (25 –ø–∞–∫–µ—Ç–æ–≤)
- ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –±—ç–∫–µ–Ω–¥–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (19 –ø–∞–∫–µ—Ç–æ–≤)
- ‚úÖ –ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ –ª–∏–Ω—Ç–µ—Ä–∞

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- ‚úÖ `package.json` (–∫–æ—Ä–Ω–µ–≤–æ–π) - –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π
- ‚úÖ `server/package.json` - –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π
- ‚úÖ `vite.config.ts` - –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π
- ‚úÖ `server/tsconfig.json` - –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π
- ‚úÖ `.gitignore` - –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π (`.env` —Ñ–∞–π–ª—ã –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è)

### –ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ `server/env.production.example` - –≥–æ—Ç–æ–≤ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
- ‚úÖ `server/env.example` - –≥–æ—Ç–æ–≤ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ `src/config/env.example` - –≥–æ—Ç–æ–≤

## üìã –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é

### –°–∫—Ä–∏–ø—Ç—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
–í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:

1. ‚úÖ **`scripts/deploy.sh`** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
2. ‚úÖ **`scripts/build-production.sh`** - –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
3. ‚úÖ **`scripts/check-deployment.sh`** - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
4. ‚úÖ **`scripts/setup-database.sh`** - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
5. ‚úÖ **`scripts/backup-database.sh`** - –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ë–î
6. ‚úÖ **`scripts/restore-database.sh`** - –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ë–î –∏–∑ –±—ç–∫–∞–ø–∞

### –°–∏—Å—Ç–µ–º–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ **`scripts/supporit-api.service`** - Systemd unit —Ñ–∞–π–ª –¥–ª—è –∑–∞–ø—É—Å–∫–∞ API
- ‚úÖ **`scripts/nginx-supporit.conf`** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nginx –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

### SQL —Å—Ö–µ–º—ã –∏ –º–∏–≥—Ä–∞—Ü–∏–∏
–í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ SQL —Ñ–∞–π–ª—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç:

- ‚úÖ `schema_postgres.sql` - –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ `migration_allow_null_password.sql`
- ‚úÖ `migration_buildings.sql`
- ‚úÖ `migration_add_consumable_model.sql`
- ‚úÖ `migration_equipment_consumables.sql`
- ‚úÖ `migration_ticket_consumables.sql`
- ‚úÖ `migration_update_consumables_function.sql`
- ‚úÖ –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã (fix_trigger.sql, create_admin.sql –∏ –¥—Ä.)

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é:

- ‚úÖ `PRODUCTION_DEPLOYMENT.md` - –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
- ‚úÖ `DEPLOYMENT_CHECKLIST.md` - –ß–µ–∫–ª–∏—Å—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- ‚úÖ `DEPLOYMENT.md` - –û–±—â–µ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
- ‚úÖ `SECURITY.md` - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚úÖ `scripts/README.md` - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Å–∫—Ä–∏–ø—Ç–∞–º

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω–∞ Ubuntu

### 1. –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
```bash
# –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ
scp -r D:\python\supporit user@your-server:/opt/supporit
```

–ò–ª–∏ —á–µ—Ä–µ–∑ git:
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
git clone <repository-url> /opt/supporit
```

### 2. –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
```bash
cd /opt/supporit
sudo chmod +x scripts/*.sh
sudo ./scripts/deploy.sh
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–ë—ç–∫–µ–Ω–¥ (`server/.env`):**
```bash
cd /opt/supporit/server
cp env.production.example .env
sudo nano .env
```

–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏–∑–º–µ–Ω–∏—Ç–µ:
- `DATABASE_URL` - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL
- `JWT_SECRET` - —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ: `openssl rand -base64 32`
- `CORS_ORIGIN` - –≤–∞—à –¥–æ–º–µ–Ω
- `NODE_ENV=production`

**–§—Ä–æ–Ω—Ç–µ–Ω–¥ (`.env`):**
```bash
cd /opt/supporit
cp src/config/env.example .env
sudo nano .env
```

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:
- `VITE_API_URL=https://yourdomain.com/api`

### 4. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å—Ö–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```bash
cd /opt/supporit
sudo ./scripts/setup-database.sh
```

### 5. –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
```bash
cd /opt/supporit
sudo ./scripts/build-production.sh
```

### 6. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ systemd —Å–µ—Ä–≤–∏—Å–∞
```bash
sudo cp scripts/supporit-api.service /etc/systemd/system/
sudo systemctl daemon-reload
sudo systemctl enable supporit-api
sudo systemctl start supporit-api
sudo systemctl status supporit-api
```

### 7. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx
```bash
sudo cp scripts/nginx-supporit.conf /etc/nginx/sites-available/supporit
sudo nano /etc/nginx/sites-available/supporit  # –ò–∑–º–µ–Ω–∏—Ç–µ yourdomain.com
sudo ln -s /etc/nginx/sites-available/supporit /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl restart nginx
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
   - –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞–¥–µ–∂–Ω—ã–π `JWT_SECRET` (–º–∏–Ω–∏–º—É–º 32 —Å–∏–º–≤–æ–ª–∞)
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSL/TLS –¥–ª—è HTTPS
   - –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ PostgreSQL —Ç–æ–ª—å–∫–æ —Å localhost

2. **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–∞–≤–∞ –Ω–∞ `.env` —Ñ–∞–π–ª—ã: `chmod 600`
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –≤–ª–∞–¥–µ–ª—å—Ü–∞: `chown -R supporit:supporit /opt/supporit`

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `./scripts/check-deployment.sh` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `sudo journalctl -u supporit-api -f`

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

–ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **Health check:**
   ```bash
   curl http://localhost:3001/health
   # –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å: {"status":"ok","database":"connected",...}
   ```

2. **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ –¥–æ–º–µ–Ω –≤ –±—Ä–∞—É–∑–µ—Ä–µ
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –∏ –≤—Ö–æ–¥
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ API

3. **–õ–æ–≥–∏:**
   ```bash
   sudo journalctl -u supporit-api -f
   tail -f /var/log/nginx/supporit-access.log
   tail -f /var/log/nginx/supporit-error.log
   ```

## ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å

–ü—Ä–æ–µ–∫—Ç **–≥–æ—Ç–æ–≤ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é** –Ω–∞ Ubuntu —Å–µ—Ä–≤–µ—Ä–µ. –í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–∞–π–ª—ã, —Å–∫—Ä–∏–ø—Ç—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ –º–µ—Å—Ç–µ. –ù–∏–∫–∞–∫–∏—Ö –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ.

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:**
1. –°–ª–µ–¥–æ–≤–∞—Ç—å –ø–æ—à–∞–≥–æ–≤–æ–º—É —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤—É –≤ `PRODUCTION_DEPLOYMENT.md`
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —á–µ–∫–ª–∏—Å—Ç –∏–∑ `DEPLOYMENT_CHECKLIST.md`
3. –°–æ–±–ª—é–¥–∞—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏–∑ `SECURITY.md`

